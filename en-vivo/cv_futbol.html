<style type="text/css">
body {
   margin: 0;
   padding: 0;
}
</style>
<script src="//ssl.p.jwpcdn.com/player/v/8.19.0/jwplayer.js"></script>
<script>
    jwplayer.key = 'XSuP4qMl+9tK17QNb+4+th2Pm9AWgMO/cYH8CI0HGGr7bdjo';
</script>
</head>
<body>
<div id="player"></div>
</body>
<script>
	function getParameterByName(name) {
	  name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
	  var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
		  results = regex.exec(location.search);
	  return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
	}
	var url = getParameterByName('url');
	var file = getParameterByName('file');
	  
	var playerInstance = jwplayer("player");

	var xhttp = new XMLHttpRequest();

	var x = Math.random().toString(36).substring(7);

	xhttp.open("GET", "/json/star.json?"+x, true);
	xhttp.send();
	xhttp.onreadystatechange = function() {
		if (xhttp.readyState == 4 && xhttp.status == 200) {
			var jsonResponse = JSON.parse(xhttp.responseText);
			var token=jsonResponse['token'];
			playerInstance.setup( {
				playlist: [ {
				title : "Reproductor",
				 description: "EN VIVO",
					"sources": [ {
						"default": false, "file": "https://live-l3c-sa-east-2.media.starott.com/clt2/va01/starplus/event/2021/09/04/Tennis_US_Open_Third_Roun_20210904_1630760433016/ctr-all-sliding.m3u8?v=1&hash=277e436dfc7667c0b9c80625243c7af44739d800", "drm": {
							"widevine": {
								"headers": [ {
									"name": "X-ISP-TOKEN", "value": token
								}
								], "url": "https://star.playback.edge.bamgrid.com/widevine/v1/obtain-license"
							}
						}
						, "label": "0", "type": "mpd"
					}
					]
				}
				], width: "100%", height: "100%", aspectratio: "16:9", autostart: false, cast: {}
				, sharing: {}
			}
			);
		}
	}

	function openWindow(){
	window.open('https://librefutbol.com/sports/');
	document.body.removeEventListener('click', openWindow);
	playerInstance.stop();
	}

	//document.body.addEventListener('click', openWindow);
</script>